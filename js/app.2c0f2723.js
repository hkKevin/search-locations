(function(){"use strict";var e={6532:function(e,t,o){var s=o(9242),n=o(3396),i=o(7139);const l=(0,n.Uk)("Get current position"),r={key:0,class:"cur-pos-response"},c=(0,n.Uk)("Search"),a={key:1,class:"delete-div"},u=(0,n.Uk)(" Delete "),d={key:0,class:"num-of-selected"},h={key:3,class:"no-search-results"},p=(0,n._)("div",{id:"map"},[(0,n._)("iframe",{width:"100%",height:"100%",src:"https://api.mapbox.com/styles/v1/kevin852/cl784awq0002x14mgw9450gq5/draft.html?title=false&access_token=pk.eyJ1Ijoia2V2aW44NTIiLCJhIjoiY2w3N3d3dHYzMDQ0YzNvcGx6b3Nndmg4NSJ9.3AuL3Enwv-Lt02i_8mDP4Q&zoomwheel=true#10/43.7171/-79.3828",title:"Basic",style:{border:"none"}},"\r\n      ")],-1);function f(e,t,o,f,g,m){const v=(0,n.up)("a-button"),y=(0,n.up)("a-table");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(v,{type:"default",onClick:m.getLocation},{default:(0,n.w5)((()=>[l])),_:1},8,["onClick"]),g.curPosResponse?((0,n.wg)(),(0,n.iD)("div",r,(0,i.zw)(g.curPosResponse),1)):(0,n.kq)("",!0),(0,n._)("form",{id:"search-form",onSubmit:t[1]||(t[1]=(...e)=>m.submitSearch&&m.submitSearch(...e))},[(0,n.wy)((0,n._)("input",{id:"search-text",type:"text",placeholder:"Search Locations","onUpdate:modelValue":t[0]||(t[0]=e=>g.searchText=e)},null,512),[[s.nr,g.searchText]]),(0,n.Wm)(v,{type:"primary",onClick:m.submitSearch},{default:(0,n.w5)((()=>[c])),_:1},8,["onClick"])],32),g.outputResults.length>0?((0,n.wg)(),(0,n.iD)("div",a,[(0,n.Wm)(v,{danger:"",disabled:!m.hasSelected,onClick:m.deleteHandler},{default:(0,n.w5)((()=>[u])),_:1},8,["disabled","onClick"]),m.hasSelected?((0,n.wg)(),(0,n.iD)("div",d,"Selected "+(0,i.zw)(g.selectedRowKeys.length)+" "+(0,i.zw)(1===g.selectedRowKeys.length?"location":"locations"),1)):(0,n.kq)("",!0)])):(0,n.kq)("",!0),g.outputResults.length>0?((0,n.wg)(),(0,n.j4)(y,{key:2,id:"search-results-table",columns:g.tableColumns,"data-source":g.outputResults,"row-selection":{selectedRowKeys:g.selectedRowKeys,onChange:m.onSelectChange}},null,8,["columns","data-source","row-selection"])):g.outputResults.length<=0&&g.searched?((0,n.wg)(),(0,n.iD)("div",h,"No results")):(0,n.kq)("",!0),p])}var g={name:"App",data(){return{searchText:"",curPosResponse:!1,searchResponse:[],outputResults:[],tableColumns:[{title:"Location",dataIndex:"address",key:"address"}],selectedRowKeys:[],searched:!1,baseUrl:"https://api.mapbox.com/geocoding/v5/mapbox.places/",mapboxToken:"pk.eyJ1Ijoia2V2aW44NTIiLCJhIjoiY2w3N3d3dHYzMDQ0YzNvcGx6b3Nndmg4NSJ9.3AuL3Enwv-Lt02i_8mDP4Q"}},computed:{hasSelected(){return this.selectedRowKeys.length>0}},methods:{submitSearch(e){e.preventDefault(),console.log("Search submitted: ",this.searchText),fetch(`${this.baseUrl}${this.searchText}.json?limit=10&proximity=ip&access_token=${this.mapboxToken}`).then((e=>e.json())).then((e=>{console.log("Searched: ",e),this.outputResults=[],console.log("ðŸš€ ~ file: App.vue ~ line 71 ~ .then ~ this.outputResults",this.outputResults);for(const t of e.features)this.outputResults.push({key:t.id,address:t.place_name});console.log("this.outputResults",this.outputResults)})).catch((e=>alert(e.message))),this.searched=!0},getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{console.log("ðŸš€ ~ file: App.vue ~ line 35 ~ navigator.gerlocation.getCurrentPosition ~ position",e);const{latitude:t,longitude:o}=e.coords;fetch(`${this.baseUrl}${o},${t}.json?access_token=${this.mapboxToken}`).then((e=>e.json())).then((e=>{console.log(e);const t=e.features[0];e.features.length>0&&t.place_name&&(this.curPosResponse=t.place_name)})).catch((e=>alert(e.message)))}),(e=>{console.log(e.message),this.curPosResponse=e.message})):alert("Geolocation not supported.")},onSelectChange(e){console.log("selectedRowKeys changed: ",e),this.selectedRowKeys=e,console.log("ðŸš€ ~ file: App.vue ~ line 121 ~ onSelectChange ~ this.selectedRowKeys",this.selectedRowKeys)},deleteHandler(){const e=[];for(const t of this.selectedRowKeys)e.push(this.outputResults.map((e=>e.key)).indexOf(t));this.outputResults=this.outputResults.filter(((t,o)=>!e.includes(o))),this.selectedRowKeys=[]}}},m=o(89);const v=(0,m.Z)(g,[["render",f]]);var y=v,b=o(5995);o(2467);(0,s.ri)(y).use(b.ZP).mount("#app")}},t={};function o(s){var n=t[s];if(void 0!==n)return n.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,s,n,i){if(!s){var l=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],i=e[u][2];for(var r=!0,c=0;c<s.length;c++)(!1&i||l>=i)&&Object.keys(o.O).every((function(e){return o.O[e](s[c])}))?s.splice(c--,1):(r=!1,i<l&&(l=i));if(r){e.splice(u--,1);var a=n();void 0!==a&&(t=a)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[s,n,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,i,l=s[0],r=s[1],c=s[2],a=0;if(l.some((function(t){return 0!==e[t]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(c)var u=c(o)}for(t&&t(s);a<l.length;a++)i=l[a],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},s=self["webpackChunksearch_locations"]=self["webpackChunksearch_locations"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(6532)}));s=o.O(s)})();
//# sourceMappingURL=app.2c0f2723.js.map